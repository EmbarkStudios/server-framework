[package]
name = "server-framework"
version = "0.1.0"
edition = "2021"
authors = ["Embark <opensource@embark-studios.com>"]
license = "MIT OR Apache-2.0"
readme = "README.md"
documentation = "https://docs.rs/server-framework"
homepage = "https://github.com/EmbarkStudios/server-framework"
repository = "https://github.com/EmbarkStudios/server-framework"
description = "Opinionated framework for running network servers"
categories = ["asynchronous", "network-programming", "web-programming"]
keywords = ["http", "web", "framework", "service"]

[features]
default = ["tonic"]

[dependencies]
anyhow = "1.0"
axum = { version = "0.3" }
axum-extra = "0.1"
clap = "3.0.0-beta.5"
http = "0.2"
http-body = "0.4"
hyper = { version = "0.14", features = ["full"] }
tower = { version = "0.4", features = ["util"] }
tracing = "0.1"

# optional dependencies
tonic = { optional = true, version = "0.6", default_features = false }

[dependencies.tower-http]
version = "0.1"
features = [
    "map-request-body",
    "util",
]

[dev-dependencies]

[workspace]
members = ["examples/*"]

# TODO: before publishing this crate, publish new version of axum and tower-http
# and remove these patches
[patch.crates-io]
axum = { git = "https://github.com/tokio-rs/axum.git" }
axum-extra = { git = "https://github.com/tokio-rs/axum.git" }
tower-http = { git = "https://github.com/tower-rs/tower-http.git" }
